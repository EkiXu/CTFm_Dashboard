(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aa29d"],{"109a":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{id:"user-profile",fluid:"",category:"section"}},[i("v-row",{staticStyle:{height:"56px"}}),i("v-row",{attrs:{justify:"center"}},[i("v-col",{attrs:{cols:"12",md:"8"}},[i("BaseCard",{attrs:{color:"#03a9be"},scopedSlots:t._u([{key:"heading",fn:function(){return[i("div",{staticClass:"display-2 font-weight-light"},[t._v(" Edit Notification ")])]},proxy:!0}])},[i("v-data-table",{staticClass:"elevation-1",staticStyle:{"box-shadow":"none !important"},attrs:{headers:t.headers,items:t.notifications,"sort-by":"id"},scopedSlots:t._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[t._v("Notification")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-spacer"),i("v-dialog",{attrs:{"hide-overlay":"",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",a,!1),n),[t._v(" New Notification ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("New Notification")])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"7",md:"8"}},[i("v-text-field",{attrs:{rules:t.rules.nameRules,label:"Notification Title"},model:{value:t.editedNotification.title,callback:function(e){t.$set(t.editedNotification,"title",e)},expression:"editedNotification.title"}})],1),i("v-col",{attrs:{cols:"12",sm:"5",md:"4"}},[i("v-select",{attrs:{items:t.types,rules:t.rules.categoryRules,label:"Type Icon","prepend-icon":t.editedNotification.type_icon},model:{value:t.editedNotification.type_icon,callback:function(e){t.$set(t.editedNotification,"type_icon",e)},expression:"editedNotification.type_icon"}})],1),i("v-col",{attrs:{cols:"12"}},[i("h2",{staticStyle:{"padding-bottom":"10px"}},[t._v(" Content ")]),i("Markdown",{attrs:{height:260},model:{value:t.editedNotification.content,callback:function(e){t.$set(t.editedNotification,"content",e)},expression:"editedNotification.content"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.type",fn:function(e){var n=e.item;return[i("v-icon",{domProps:{textContent:t._s(n.type_icon)}})]}},{key:"item.actions",fn:function(e){var n=e.item;return[i("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(n)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[i("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}])})],1)],1)],1)],1)},a=[],o=(i("c975"),i("a434"),i("96cf"),i("1da1")),r=i("ade3"),c=i("ff7d"),s=i("8e77"),l=i("b775"),d=function(){return Object(l["a"])({url:"/admin/notification/",method:"get"})},u=function(t){return Object(l["a"])({url:"/admin/notification/",method:"post",data:t})},f=function(t){return Object(l["a"])({url:"/admin/notification/"+t+"/",method:"delete"})},v={components:{BaseCard:c["a"],Markdown:s["a"]},data:function(){var t;return t={dialog:!1,types:["mdi-information","mdi-alert"],headers:[{text:"ID",align:"start",sortable:!0,value:"id"},{text:"Type",sortable:!1,value:"type"},{text:"Title",value:"title"},{text:"Actions",value:"actions",sortable:!1}],notifications:[],editedIndex:-1,editedNotification:{id:0,type_icon:"mdi-information",title:"",pub_date:""}},Object(r["a"])(t,"editedNotification",{id:0,type_icon:"mdi-information",title:"",pub_date:""}),Object(r["a"])(t,"rules",{titleRules:[function(t){return!!t||"Notification title is required"}],contentRules:[function(t){return!!t||"Notification title is required"}]}),t},watch:{dialog:function(t){t||this.close()}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.initialize();case 1:case"end":return e.stop()}}),e)})))()},methods:{initialize:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:i=e.sent,t.notifications=i.data;case 4:case"end":return e.stop()}}),e)})))()},deleteItem:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.notifications.indexOf(t),confirm("Are you sure you want to delete this Notification?")&&e.notifications.splice(n,1),i.next=4,f(t.id);case 4:i.sent,e.$vToastify.success("Deleted Successfully");case 6:case"end":return i.stop()}}),i)})))()},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedNotification=Object.assign({},t.defaultNotification),t.editedIndex=-1}))},save:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.editedNotification),e.next=3,u(t.editedNotification);case 3:i=e.sent,console.log(i),t.editedNotification.id=i["data"]["id"],t.notifications.push(t.editedNotification),t.close(),t.$vToastify.success("Added Successfully");case 9:case"end":return e.stop()}}),e)})))()}}},p=v,m=i("2877"),b=i("6544"),h=i.n(b),y=i("8336"),x=i("b0af"),g=i("99d9"),w=i("62ad"),N=i("a523"),k=i("8fea"),_=i("169a"),V=i("ce7e"),C=i("132d"),R=i("0fd9"),T=i("b974"),j=i("2fa4"),O=i("8654"),S=i("71d9"),I=i("2a7f"),$=Object(m["a"])(p,n,a,!1,null,null,null);e["default"]=$.exports;h()($,{VBtn:y["a"],VCard:x["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:w["a"],VContainer:N["a"],VDataTable:k["a"],VDialog:_["a"],VDivider:V["a"],VIcon:C["a"],VRow:R["a"],VSelect:T["a"],VSpacer:j["a"],VTextField:O["a"],VToolbar:S["a"],VToolbarTitle:I["a"]})}}]);